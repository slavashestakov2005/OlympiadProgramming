\hypertarget{1.0}{}
\head{Олимпиадные оптимизации кода}
В этом блоке вы сможете найти список приёмов, которые помогают в олимпиадном программировании. Эти приёмы могут или ускорять программу, или упрощать её написание. Итак, поехали!


\startspace
Ускорение кода
\endspace

Поскольку очень важно, чтобы программа уложилась в ограничения по времени, то код ускоряют, отключая поддержку функций ввода-вывода из C (после этого нужно пользоваться только \lcpp{cin} и \lcpp{cout}). Ускоряется программа вот таким кодом (его помещают в самое начало \lcpp{main}):

\cpp{infra/optimize}{3}

Можно все выражения в скобках заменить на \lcpp{0}, и это тоже будет работать.


\startspace
\lcpp{#include}
\endspace

В олимпиадном движении не модно запоминать название файлов, в которых содержатся встроенные функции. Поэтому, всегда пишите, как в примере ниже (к тому же, от этого не страдает скорость выполнения программы).

\cpp{infra/optimize}{1}

Вместо, того, чтобы заниматься чем-то таким:

\cpp{infra/optimize}{6}

Подробнее вы можете об этом прочитать в блоке \hyperlink{1.1}{первая программа}.


\startspace
\lcpp{#define}
\endspace

Макросы позволяют сокращать код и их нужно писать под себя, но вот примеры полезных макросов:

\cpp{infra/optimize}{9}

Подробнее вы можете об этом прочитать в блоке \hyperlink{macros}{макросы}.


\startspace
\lcpp{using}
\endspace

С помощью слова \lcpp{using} можно сокращать названия типов данных. Например:

\cpp{infra/optimize}{3}

Подробнее вы можете об этом прочитать в блоке \hyperlink{macros}{макросы}.


\startspace
\lcpp{namespace}
\endspace

Аналогично никто не хочет писать что-то длинное, например такое:

\cpp{infra/optimize}{5}

Поэтому делают оптимизацию ниже.

\cpp{infra/optimize}{1}

Подробнее вы можете об этом прочитать в блоке \hyperlink{1.1}{первая программа}.


\startspace
\lcpp{double}
\endspace

Если вы когда пробовали запускать код ниже, то знаете, что он выведет \lcpp{0}:

\cpp{infra/optimize}{1}

И, как говорилось в блоке \hyperlink{1.3}{операторы}, чтобы программа вывела \lcpp{1}, нужно во делить не целое число, а использовать тип \lcpp{double}. Но у \lcpp{double} не обязательно указывать нули после точки, поэтому можно писать так:

\cpp{infra/optimize}{1}

И такой код уже выведет \lcpp{1}.


\startspace
\lcpp{INF}
\endspace

Часто в алгоритмах нам будет нужна константа обозначающая бесконечность (\lcpp{INF}, она уже встречалась в разделе \hyperlink{macros}{макросы}). Значение \lcpp{INF} подбирается в зависимости от ограничений в задаче, а именно \lcpp{INF} должен быть на столько большим, чтобы точно не являться ответом к задаче. Объявлять \lcpp{INF} можно как хочется (хоть через макросы, хоть не как константу), например, так:

\cpp{infra/optimize}{1}

Также работать с бесконечностью нужно аккуратно, чтобы не получилось \lcpp{INF + 5}, \lcpp{2 * INF}, или, ещё хуже, \lcpp{INF * INF} (так как операции с бесконечностью могут не влезть в тип данных, он переполнится, и может получиться число, меньшее бесконечности).


\startspace
Файловый ввод-вывод
\endspace

Иногда бывает нужно работать с файлами (читать входные данные или записывать выходные). Если делать это совсем честно, то в C++ нужно писать вот так:

\cpp{infra/optimize}{6}

Но писать дополнительные строчки с кодом никто не любит, поэтому можно \term{перенаправить} встроенные потоки для записи / чтения (\lcpp{cin} и \lcpp{cout}):

\cpp{infra/optimize}{5}


\startspace
\lcpp{#pragma}
\endspace

В очень редких случаях может быть полезно подсказать компилятору, как оптимизировать код. В таком случае в самом начале файла нужно добавить \lcpp{#pragma}, какие именно добавлять -- вопрос сложный, так как для полного понимания нужно хорошо знать устройство компьютера. Можно использовать например такие:

\cpp{infra/optimize}{2}
